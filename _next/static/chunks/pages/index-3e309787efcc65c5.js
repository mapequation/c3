(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1821)}])},1821:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(5893),i=n(9008),s=n(7294),o=n(3762),a=n(4096),l=n(4115),c=n(3850),h=n(234),d=n(8017),u=n(336),x=n(8104),m=n(7341),f=n(6729),p=n(6618),g=n(6150),j=n(361),v=n(7922),b=n(155),y=n(357);class w{constructor(e=0,t=1,n=0){this.start=e,this.end=t,this.startLevel=n,this.endLevel=this.startLevel}get size(){return this.end-this.start}get mid(){return this.start+this.size/2}getSplitPoint(e=0){return this.start+this.size/2*(1+e)}split(e=0){const t=this.getSplitPoint(e),n=new w(t,this.end,++this.endLevel);return this.end=t,n}}function M(e,t={start:0,end:1}){if("number"===typeof e){if(0===e)return[];e=new Array(e).fill(1/e)}if(0===e.length)return[];const n=e.reduce(((e,t)=>e+t),0);Math.abs(n-1)>1e-6&&(e=e.map((e=>e/n)));let{start:r,end:i}=t;const s=i-r,o=e.map((e=>{const t=e*s,n={start:r,end:r+t};return r+=t,n})),a=[];for(let l=0;l<e.length;l+=2)if(a.push(o[l]),l>0&&a.push(o[l-1]),l+2==e.length){a.push(o[l+1]);break}return a}function C(e=10,{start:t=0,end:n=1}={}){if("number"!==typeof e&&(e=e.length),0===e)return[];const r=Math.ceil(Math.log2(e)),i=[new w(t,n)];for(let s=0;s<r;++s){const t=i.length;for(let n=0;n<t;++n){const t=i[n].split();if(i.push(t),i.length===e)return i}}return i}var k=y.range(100);function S(e){var t=e.intervals,n=e.scheme,i=(e.animate,e.size),s=void 0===i?500:i,o=e.hole,a=void 0===o?.9:o,l=e.margin,c=void 0===l?20:l,h=(s-2*c)/2,d=h*a,u=(h+d)/2,x=s,m=s,f=Math.pow(2,Math.ceil(Math.log2(t.length))),p=u*Math.PI*1/f-2,g=Math.min(c,p),j=Math.min(16,p),v=p<5?0:2,b=p<5?1:2,w=p<5?2:4,M=y.scaleLinear().domain([0,1]).range([0,u]),C=y.pie().padAngle(0).sort(null).value((function(){return 1}))(k),S=y.arc().innerRadius(d).outerRadius(h),O=y.scaleLinear().domain([0,1]).range([-Math.PI/2,-Math.PI/2+2*Math.PI]);y.interpolateRgb("#000","#eee");return(0,r.jsx)("svg",{viewBox:"0 0 ".concat(x," ").concat(m),width:x,height:m,style:{marginTop:"2em"},children:(0,r.jsxs)("g",{strokeWidth:0,transform:"translate(".concat(x/2,",").concat(m/2,")"),children:[C.map((function(e,t){return(0,r.jsx)("path",{d:S(e),fill:n(t/k.length)},t)})),t.map((function(e,i){return(0,r.jsxs)("g",{children:[i+1<t.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("line",{x1:M(Math.cos(O(e.start))),y1:M(Math.sin(O(e.start))),x2:M(Math.cos(O(t[i+1].start))),y2:M(Math.sin(O(t[i+1].start))),strokeWidth:3,stroke:"#777"}),(0,r.jsx)("line",{x1:M(Math.cos(O(e.start))),y1:M(Math.sin(O(e.start))),x2:M(Math.cos(O(t[i+1].start))),y2:M(Math.sin(O(t[i+1].start))),strokeWidth:2,stroke:"white"})]}),(0,r.jsx)("circle",{cx:M(Math.cos(O(e.start))),cy:M(Math.sin(O(e.start))),r:g,stroke:"#777",strokeWidth:w}),(0,r.jsx)("circle",{cx:M(Math.cos(O(e.start))),cy:M(Math.sin(O(e.start))),r:g,fill:n(e.start),stroke:"white",strokeWidth:b}),(0,r.jsx)("text",{x:M(Math.cos(O(e.start))),y:M(Math.sin(O(e.start))),textAnchor:"middle",fill:"white",stroke:"#777",paintOrder:"stroke",strokeWidth:v,fontWeight:"bold",fontSize:j,dy:"0.3em",children:i+1})]},i)}))]})})}S.getInitialProps=function(){return{intervals:[],scheme:function(){return"red"}}};var O=n(6640),P=n(3244),z=n(2152),W=n.n(z);function I(e){var t=e.intervals,n=void 0===t?[]:t,i=e.scheme,o=(0,s.useCallback)((function(e){var t;return null===(t=y.color(i(e)))||void 0===t?void 0:t.formatHex()}),[i]);return(0,s.useEffect)((function(){new(W())(".copy-button",{text:function(){return"["+n.map((function(e){return'"'+o(e.start)+'"'})).join(", ")+"]"}})}),[n,o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.xu,{align:"left",w:"100%",fontFamily:"monospace",fontSize:"md",p:4,mt:10,borderRadius:5,borderWidth:2,borderColor:"gray.100",shadow:"sm",bg:"gray.50",color:"gray.700",children:["[",n.map((function(e,t){return(0,r.jsxs)(s.Fragment,{children:['"',(0,r.jsx)("span",{style:{color:i(e.start)},children:o(e.start)}),'"',t+1<n.length&&", "]},t)})),"]"]}),(0,r.jsx)(O.z,{size:"sm",className:"copy-button",mt:4,colorScheme:"blue",leftIcon:(0,r.jsx)(P.T,{}),children:"Copy to clipboard"})]})}I.getInitialProps=function(){return{intervals:[],scheme:function(){return"red"}}};var E=n(4533);function L(e){var t=e.intervals,n=void 0===t?[]:t,i=e.scheme,s=e.weights,o=void 0===s?void 0:s,a=e.animate,l=(void 0!==a&&a?3:0)/n.length,c=n.length;void 0===o&&(o=new Array(c).fill(1));var h=(0,y.sum)(o);return Math.abs(h-1)>1e-6&&(o=o.map((function(e){return e/h}))),(0,r.jsx)("div",{children:n.map((function(e,t){return(0,r.jsx)(E.E.div,{style:{display:"inline-block",width:"".concat(500*o[t],"px"),height:"50px",background:i(e.start),boxSizing:"border-box",border:"solid 1px #333",borderLeft:t>0?"none":"solid 1px #333"},initial:{opacity:0},animate:{opacity:1},transition:{duration:l,delay:t*l}},t)}))})}var R=n(299);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e){var t,n,i=e.value,s=e.onChange,o=e.suffix,l=void 0===o?"":o,c=e.min,h=void 0===c?2:c,d=e.max,u=void 0===d?32:d,x=F(e,["value","onChange","suffix","min","max"]);return(0,r.jsxs)(a.k,{children:[(0,r.jsxs)(j.iR,T({flex:"1",focusThumbOnChange:!1,value:i,onChange:s,min:h,max:u},x,{children:[(0,r.jsx)(j.Uj,{children:(0,r.jsx)(j.Ms,{})}),(0,r.jsx)(j.gs,{fontSize:"sm",boxSize:"32px",children:i})]})),(0,r.jsxs)(R.Y2,{maxW:"125px",ml:"2rem",value:(n=i,"".concat(n," ").concat(l)),onChange:function(e){var n=null!==(t=parseInt(e))&&void 0!==t?t:0;n>=h&&n<=u&&s(n)},children:[(0,r.jsx)(R.zu,{}),(0,r.jsxs)(R.Fi,{children:[(0,r.jsx)(R.WQ,{}),(0,r.jsx)(R.Y_,{})]})]})]})}var G=0;function N(e){var t=e.interval,n=e.x,i=e.scheme,s=e.y,o=e.height,a=e.padX,l=void 0===a?0:a;null!==l&&void 0!==l||(l=0);var c=t.end-t.start,h=n(t.start),d=n(t.end)-h,u=Math.ceil(.3*d),x=(0,y.range)(u).map((function(e){var r=t.start+e/u*c;return{i:e,t:r,x:n(r),width:n(c/u)}})),m="".concat(G++);return(0,r.jsxs)("g",{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:m,children:(0,r.jsx)("rect",{x:h+l,y:s,width:d-2*l,height:o})})}),(0,r.jsx)("g",{clipPath:"url(#".concat(m,")"),children:x.map((function(e){return(0,r.jsx)("rect",{x:e.x,y:s,width:e.width,height:o,fill:i(e.t),stroke:i(e.t)},e.i)}))})]})}function U(e){var t=e.x,n=e.y,i=e.width,s=e.height,o=e.fill,a=void 0===o?"black":o;return i<=0?null:(0,r.jsx)("rect",{x:t,y:n,width:i,height:s,fill:a})}function A(e){var t=e.numColors,n=e.scheme,i=(e.animate,e.width),s=void 0===i?500:i,o=e.height,a=void 0===o?500:o,l=e.margin,c=void 0===l?void 0:l,h=s,d=a;s-=(c=function(e,t){var n=void 0===t?{top:20,bottom:20,left:20,right:20}:t;return Object.assign({top:0,bottom:0,left:0,right:0},n,null!==e&&void 0!==e?e:{})}(c,{top:10,bottom:10,left:10,right:10})).left+c.right,a-=c.top+c.bottom;var u=t;t=16,u=Math.min(t,u);for(var x=Math.pow(2,Math.ceil(Math.log2(t))),m=s/x-2,f=a/x-2,p=Math.min(m/2,f/2),g=(Math.min(c.top,c.bottom,c.right,c.left),Math.min(16,p),y.scaleLinear().domain([0,1]).range([0,s])),j=function(e){return{start:e.start,end:e.end}},v=Math.ceil(Math.log2(t)),b=[new w(0,1)],M=[{intervals:b.map(j),level:0,split:0,subLevel:0}],C=0;C<v;++C)for(var k=b.length,S=0;S<k;++S){var O=b[S],P=O.mid,z=O.split();if(b.push(z),M.push({intervals:b.map(j),level:C+1,subLevel:S,split:P}),b.length===t)break}var W=(a-0-5)/(v+1),I=function(e){var t=e.level,n=e.subLevel;return W*(t+n/Math.pow(2,Math.max(0,t-1)))},E=Math.min(6,p),L=Math.min(6,p);return(0,r.jsx)("div",{children:(0,r.jsx)("svg",{viewBox:"0 0 ".concat(h," ").concat(d),width:h,height:d,children:(0,r.jsxs)("g",{transform:"translate(".concat(c.left,",").concat(c.top,")"),children:[(0,r.jsx)(N,{interval:{start:0,end:1},x:g,scheme:n,y:0,height:a,padX:0}),(0,r.jsx)("g",{transform:"translate(0,".concat(0,")"),children:M.map((function(e,t){return(0,r.jsx)("g",{children:e.intervals.map((function(i,s){return(0,r.jsxs)("g",{children:[(0,r.jsx)(U,{x:g(i.start)+E,y:I(e),width:g(i.end-i.start)-2*E,height:4}),t<u&&(0,r.jsxs)("g",{transform:"translate(".concat(g(e.split),",").concat(I(e)+2,")"),children:[t+1<u&&(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{shapeRendering:"geometricPrecision",d:"M 0 0 Q ".concat((g(M[t+1].split)-g(e.split))/2," 0 ").concat(g(M[t+1].split)-g(e.split)," ").concat(I(M[t+1])-I(e)),fill:"none",stroke:"black",strokeWidth:2}),(0,r.jsx)("path",{shapeRendering:"geometricPrecision",d:"M 0 0 Q ".concat((g(M[t+1].split)-g(e.split))/2," 0 ").concat(g(M[t+1].split)-g(e.split)," ").concat(I(M[t+1])-I(e)),fill:"none",stroke:"white",strokeWidth:1})]}),(0,r.jsx)("circle",{r:L,fill:"black",strokeWidth:2}),(0,r.jsx)("circle",{r:L-2,fill:n(e.split),stroke:"white",strokeWidth:2})]})]},s)}))},t)}))})]})})})}function D(e){var t=e.numColors,n=e.scheme,i=(e.animate,e.width),s=void 0===i?500:i,o=e.height,a=void 0===o?500:o,l=e.margin,c=void 0===l?void 0:l,h=e.cantor;return void 0===h||h?(0,r.jsx)(A,{numColors:t,scheme:n,width:s,height:a,margin:c}):null}D.getInitialProps=function(){return{numColors:0,scheme:function(){return"red"}}};var Q=function(e){var t=e.label,n=e.icon,i=e.children,s=e.iconColor,c=void 0===s?"black":s;return(0,r.jsxs)(o.HC,{display:"flex",alignItems:"center",children:[(0,r.jsx)(o.DE,{w:10,h:10,as:n,color:c}),(0,r.jsxs)(a.k,{direction:"column",ml:2,children:[(0,r.jsx)(l.x,{as:"strong",children:t}),(0,r.jsx)(l.x,{as:"div",color:"gray.600",children:i})]})]})};function V(){var e,t=(0,s.useState)(6),n=t[0],i=t[1],w=(0,s.useState)("stops"),k=w[0],O=w[1],P=(0,s.useState)(.8),z=P[0],W=P[1],E=(0,s.useState)(0),R=E[0],_=E[1],T=(0,s.useState)(.6),F=T[0],G=T[1],N=(0,s.useState)(0),U=N[0],A=N[1],V=(0,s.useState)(!1),q=V[0],H=V[1],Y=(0,s.useState)("interpolateSinebow"),B=Y[0],J=Y[1],K=y.range(n).map((function(e,t){return Math.exp(5*U*(n-t)/Math.pow(n,1))})),Z="weightedStops"===k?M(K):C(n),$=y[B];return e=$,$=function(t){if(t=t+R-Math.floor(t+R),q&&(t=1-t),"interpolateGreys"===B)return e(t);var n=y.hsl(e(t));return n.s=z,n.l=F,n.toString()},(0,r.jsxs)("div",{children:[(0,r.jsx)(c.W,{as:"header",maxWidth:"100%",children:(0,r.jsxs)(c.W,{centerContent:!0,mb:12,py:6,children:[(0,r.jsxs)(h.Ug,{children:[(0,r.jsx)(d.xu,{mr:6,children:(0,r.jsx)(u.X,{fontSize:"120px",letterSpacing:"-28px",style:{textShadow:"-1px -1px 0 #eee, 1px -1px 0 #eee, -1px 1px 0 #eee, 1px 1px 0 #eee"},children:"C3"})}),(0,r.jsxs)(h.gC,{align:"flex-start",spacing:"-1",fontSize:"lg",children:[(0,r.jsxs)(u.X,{fontFamily:"inherit",children:["C",(0,r.jsx)(l.x,{as:"span",color:"gray.400",children:"onsistent"})]}),(0,r.jsxs)(u.X,{fontFamily:"inherit",children:["C",(0,r.jsx)(l.x,{as:"span",color:"gray.400",children:"ategorical"})]}),(0,r.jsxs)(u.X,{fontFamily:"inherit",children:["C",(0,r.jsx)(l.x,{as:"span",color:"gray.400",children:"olors"})]})]})]}),(0,r.jsx)(l.x,{my:4,fontSize:"3xl",color:"gray.400",children:"Deterministic colors for maps"})]})}),(0,r.jsxs)(c.W,{as:"main",my:12,children:[(0,r.jsxs)(d.xu,{children:[(0,r.jsxs)(h.Ug,{children:[(0,r.jsxs)(x.Ph,{id:"colorScale",value:B,onChange:function(e){var t;return J(null===(t=e.target)||void 0===t?void 0:t.value)},children:[(0,r.jsx)("option",{value:"interpolateSinebow",children:"Sinebow"}),(0,r.jsx)("option",{value:"interpolateRainbow",children:"Rainbow"}),(0,r.jsx)("option",{value:"interpolateTurbo",children:"Turbo"}),(0,r.jsx)("option",{value:"interpolateViridis",children:"Viridis"}),(0,r.jsx)("option",{value:"interpolateGreys",children:"Greys"})]}),(0,r.jsx)(m.L,{}),(0,r.jsxs)(f.NI,{display:"flex",alignItems:"center",children:[(0,r.jsx)(p.l,{htmlFor:"reverse",mb:"0",children:"Reverse"}),(0,r.jsx)(g.r,{id:"reverse",isChecked:q,onChange:function(){return H(!q)}})]})]}),(0,r.jsxs)(x.Ph,{mt:4,value:k,onChange:function(e){var t;return O(null===(t=e.target)||void 0===t?void 0:t.value)},children:[(0,r.jsx)("option",{value:"stops",children:"Standard"}),(0,r.jsx)("option",{value:"weightedStops",children:"Leapfrog"})]})]}),(0,r.jsx)(d.xu,{align:"center",children:(0,r.jsx)(S,{intervals:Z,scheme:$,size:500})}),(0,r.jsx)(d.xu,{align:"center",mt:"10",children:(0,r.jsx)(L,{intervals:Z,scheme:$,weights:K})}),(0,r.jsxs)(d.xu,{mt:10,children:[(0,r.jsx)(X,{min:2,max:128,value:n,onChange:i,suffix:"colors"}),(0,r.jsxs)(a.k,{mt:4,children:[(0,r.jsxs)(j.iR,{focusThumbOnChange:!1,value:z,onChange:W,min:0,max:1,step:.1,disabled:"interpolateGreys"===B,children:[(0,r.jsx)(j.Uj,{children:(0,r.jsx)(j.Ms,{})}),(0,r.jsx)(j.gs,{fontSize:"sm",boxSize:"32px",children:z})]}),(0,r.jsx)(d.xu,{mx:10,children:"Saturation"})]}),(0,r.jsxs)(a.k,{mt:4,children:[(0,r.jsxs)(j.iR,{focusThumbOnChange:!1,value:F,onChange:G,min:0,max:1,step:.1,disabled:"interpolateGreys"===B,children:[(0,r.jsx)(j.Uj,{children:(0,r.jsx)(j.Ms,{})}),(0,r.jsx)(j.gs,{fontSize:"sm",boxSize:"32px",children:F})]}),(0,r.jsx)(d.xu,{mx:10,children:"Lightness"})]}),(0,r.jsxs)(a.k,{mt:4,children:[(0,r.jsxs)(j.iR,{focusThumbOnChange:!1,value:U,onChange:A,min:0,max:1,step:.01,children:[(0,r.jsx)(j.Uj,{children:(0,r.jsx)(j.Ms,{})}),(0,r.jsx)(j.gs,{fontSize:"sm",boxSize:"32px",children:U})]}),(0,r.jsx)(d.xu,{mx:10,children:"Skewness"})]}),(0,r.jsxs)(a.k,{mt:4,children:[(0,r.jsxs)(j.iR,{focusThumbOnChange:!1,value:R,onChange:_,min:0,max:1,step:.01,children:[(0,r.jsx)(j.Uj,{children:(0,r.jsx)(j.Ms,{})}),(0,r.jsx)(j.gs,{fontSize:"sm",boxSize:"32px",children:R})]}),(0,r.jsx)(d.xu,{mx:14,children:"Offset"})]})]}),(0,r.jsx)(d.xu,{mt:8,children:(0,r.jsx)(D,{height:300,numColors:Z.length,scheme:$,cantor:"stops"===k})}),(0,r.jsx)(d.xu,{align:"center",mt:14,children:(0,r.jsx)(I,{intervals:Z,scheme:$})}),(0,r.jsx)(u.X,{mt:12,children:"Install"}),(0,r.jsx)(l.x,{my:4,children:"Install from NPM"}),(0,r.jsx)(v.E,{variant:"solid",px:3,py:2,children:"npm install @mapequation/c3"}),(0,r.jsxs)(l.x,{my:4,children:["Source code is available on"," ",(0,r.jsx)("a",{href:"//github.com/mapequation/c3",children:"GitHub"}),"."]}),(0,r.jsx)(u.X,{mt:12,children:"Features"}),(0,r.jsxs)(o.aV,{mt:4,spacing:"5",children:[(0,r.jsx)(Q,{label:"Unlimited colors",icon:b.zV5,iconColor:"gray.400",children:"Generate as many colors you want"}),(0,r.jsxs)(Q,{label:"Any color scheme",icon:b.dNS,iconColor:"yellow.400",children:["We generate color stops on the interval [0,\xa01]. Perfect to use with ",(0,r.jsx)("a",{href:"https://github.com/d3/d3-scale-chromatic",children:"d3"}),"."]}),(0,r.jsx)(Q,{label:"Deterministic",icon:b.MQG,iconColor:"red.600",children:"You always get the same colors for the same requested number of colors."}),(0,r.jsx)(Q,{label:"Consistent",icon:b.kEG,iconColor:"green.600",children:"If you increase the number of colors, it doesn't change the list of colors you already have."}),(0,r.jsx)(Q,{label:"Fast",icon:b.Pmx,iconColor:"blue.500",children:"The complexity is O(n log(n)) for n colors."})]}),(0,r.jsx)(u.X,{mt:12,children:"Authors"}),(0,r.jsx)(l.x,{mt:4,mb:20,children:"Daniel Edler, Anton Eriksson"})]})]})}var q=function(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"C3 - Consistent Categorical Colors"}),(0,r.jsx)("meta",{name:"description",content:"C3 - Consistent Categorical Colors"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(V,{})]})}}},function(e){e.O(0,[260,841,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);