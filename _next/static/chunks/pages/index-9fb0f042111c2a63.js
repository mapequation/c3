(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2330)}])},2330:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var i=n(5893),r=n(9008),s=n(7294),o=n(3762),l=n(4096),a=n(4115),c=n(3850),h=n(234),d=n(8017),x=n(336),u=n(9444),g=n(8104),m=n(7341),j=n(6729),f=n(6618),p=n(6150),v=n(1121),b=n(7922),y=n(155),w=n(357);class k{constructor(e=0,t=1,n=1,i=1,r=0){this.start=e,this.end=t,this.startWeight=n,this.endWeight=i,this.startLevel=r,this.endLevel=this.startLevel}get size(){return this.end-this.start}get mid(){return this.start+this.size/2}get weightedFraction(){return this.startWeight/(this.startWeight+this.endWeight)}get weightedSplitPoint(){return this.start+this.weightedFraction*this.size}getSplitPoint(e=1){const t=.5*(1-e)+e*this.weightedFraction;return this.start+t*this.size}split(e=1,t=1){const n=this.getSplitPoint(t),i=new k(n,this.end,e,this.endWeight,++this.endLevel);return this.end=n,this.endWeight=e,i}}function M(e=10,{start:t=0,end:n=1,strength:i}={}){const r="number"!==typeof e,s=r?e:C(e);void 0===i&&(i=r?1:0);const o=s.length;if(0===o)return[];const l=Math.ceil(Math.log2(o)),a=[new k(t,n,s[0],s[0])];let c=0;for(let h=0;h<l;++h){const e=a.length;for(let t=0;t<e;++t){const e=a[t].split(s[++c],i);if(a.push(e),a.length===o)return a}}return a}function C(e,t=1){return Array.from({length:e},((n,i)=>Math.exp(.25*t*(e-i))))}var S=w.range(100);function z(e){var t=e.intervals,n=e.scheme,r=(e.animate,e.size),s=void 0===r?500:r,o=e.hole,l=void 0===o?.9:o,a=e.margin,c=void 0===a?10:a,h=(s-2*c)/2,d=h*l,x=h-d,u=(h+d)/2,g=Math.pow(2,Math.ceil(Math.log2(t.length))),m=u*Math.PI*1/g-2,j=Math.min(.8*x,m),f=Math.min(16,m),p=m<5?0:2,v=m<5?1:2,b=m<5?2:4,y=m<5?2:3,k=w.scaleLinear().domain([0,1]).range([0,u]),M=w.pie().padAngle(0).sort(null).value((function(){return 1}))(S),C=w.arc().innerRadius(d).outerRadius(h),z=w.scaleLinear().domain([0,1]).range([-Math.PI/2,-Math.PI/2+2*Math.PI]);w.interpolateRgb("#000","#eee");return(0,i.jsx)("div",{children:(0,i.jsx)("svg",{viewBox:"0 0 ".concat(s," ").concat(s),width:s,height:s,children:(0,i.jsx)("g",{transform:"translate(".concat(c,",").concat(c,")"),children:(0,i.jsxs)("g",{strokeWidth:0,transform:"translate(".concat(h,",").concat(h,")"),children:[(0,i.jsx)("circle",{r:h,stroke:"#999",fill:"none",strokeWidth:1}),(0,i.jsx)("circle",{r:d,stroke:"#999",fill:"none",strokeWidth:1}),M.map((function(e,t){return(0,i.jsx)("path",{d:C(e),fill:n(t/S.length)},t)})),t.map((function(e,r){return(0,i.jsxs)("g",{children:[r+1<t.length&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("line",{x1:k(Math.cos(z(e.start))),y1:k(Math.sin(z(e.start))),x2:k(Math.cos(z(t[r+1].start))),y2:k(Math.sin(z(t[r+1].start))),strokeWidth:y,stroke:"#777"}),(0,i.jsx)("line",{x1:k(Math.cos(z(e.start))),y1:k(Math.sin(z(e.start))),x2:k(Math.cos(z(t[r+1].start))),y2:k(Math.sin(z(t[r+1].start))),strokeWidth:y-1,stroke:"white"})]}),(0,i.jsx)("circle",{cx:k(Math.cos(z(e.start))),cy:k(Math.sin(z(e.start))),r:j,stroke:"#777",strokeWidth:b}),(0,i.jsx)("circle",{cx:k(Math.cos(z(e.start))),cy:k(Math.sin(z(e.start))),r:j,fill:n(e.start),stroke:"white",strokeWidth:v}),(0,i.jsx)("text",{x:k(Math.cos(z(e.start))),y:k(Math.sin(z(e.start))),textAnchor:"middle",fill:"white",stroke:"#777",paintOrder:"stroke",strokeWidth:p,fontWeight:"bold",fontSize:f,dy:"0.3em",children:r+1})]},r)}))]})})})})}z.getInitialProps=function(){return{intervals:[],scheme:function(){return"red"}}};var W=n(6640),O=n(3244),P=n(2152),I=n.n(P);function R(e){var t=e.intervals,n=void 0===t?[]:t,r=e.scheme,o=(0,s.useCallback)((function(e){var t;return null===(t=w.color(r(e)))||void 0===t?void 0:t.formatHex()}),[r]);return(0,s.useEffect)((function(){new(I())(".copy-button",{text:function(){return"["+n.map((function(e){return'"'+o(e.start)+'"'})).join(", ")+"]"}})}),[n,o]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.xu,{align:"left",w:"100%",fontFamily:"monospace",fontSize:"md",p:4,mt:10,borderRadius:5,borderWidth:2,borderColor:"gray.100",shadow:"sm",bg:"gray.50",color:"gray.700",children:["[",n.map((function(e,t){return(0,i.jsxs)(s.Fragment,{children:['"',(0,i.jsx)("span",{style:{color:r(e.start)},children:o(e.start)}),'"',t+1<n.length&&", "]},t)})),"]"]}),(0,i.jsx)(W.z,{size:"sm",className:"copy-button",mt:4,colorScheme:"blue",leftIcon:(0,i.jsx)(O.T,{}),children:"Copy to clipboard"})]})}function E(e){var t=e.intervals,n=void 0===t?[]:t,r=e.scheme,s=e.weights,o=void 0===s?void 0:s,l=e.width,a=void 0===l?400:l,c=e.height,h=void 0===c?50:c,d=n.length,x=(0,w.sum)(null!==o&&void 0!==o?o:[1]),u=function(e){return o?o[e]/x:1/d};return(0,i.jsx)("div",{children:n.map((function(e,t){var n=e.start;return(0,i.jsx)("div",{style:{display:"inline-block",width:"".concat(u(t)*a,"px"),height:"".concat(h,"px"),background:r(n),boxSizing:"border-box",borderTop:"1px solid #999",borderBottom:"1px solid #999",borderLeft:0===t?"1px solid #999":"none",borderRight:t+1===d?"1px solid #999":"none"}},t)}))})}R.getInitialProps=function(){return{intervals:[],scheme:function(){return"red"}}};var F=n(299);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){_(e,t,n[t])}))}return e}function T(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X(e){var t,n,r=e.value,s=e.onChange,o=e.suffix,a=void 0===o?"":o,c=e.min,h=void 0===c?2:c,d=e.max,x=void 0===d?32:d,u=T(e,["value","onChange","suffix","min","max"]);return(0,i.jsxs)(l.k,{children:[(0,i.jsxs)(v.iR,L({flex:"1",focusThumbOnChange:!1,value:r,onChange:s,min:h,max:x},u,{children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:r})]})),(0,i.jsxs)(F.Y2,{maxW:"125px",ml:"2rem",value:(n=r,"".concat(n," ").concat(a)),onChange:function(e){var n=null!==(t=parseInt(e))&&void 0!==t?t:0;n>=h&&n<=x&&s(n)},children:[(0,i.jsx)(F.zu,{}),(0,i.jsxs)(F.Fi,{children:[(0,i.jsx)(F.WQ,{}),(0,i.jsx)(F.Y_,{})]})]})]})}var G=0;function N(e){var t=e.interval,n=e.x,r=e.scheme,s=e.y,o=e.height,l=e.padX,a=void 0===l?0:l;null!==a&&void 0!==a||(a=0);var c=t.end-t.start,h=n(t.start),d=n(t.end)-h,x=Math.ceil(d/1),u=(0,w.range)(x).map((function(e){var i=t.start+e/x*c;return{i:e,t:i,x:n(i),width:n(c/x)}})),g="".concat(G++);return(0,i.jsxs)("g",{children:[(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:g,children:(0,i.jsx)("rect",{x:h+a,y:s,width:d-2*a,height:o})})}),(0,i.jsx)("g",{clipPath:"url(#".concat(g,")"),children:u.map((function(e){return(0,i.jsx)("rect",{x:e.x,y:s,width:e.width,height:o,fill:r(e.t)},e.i)}))})]})}function U(e){var t=e.x,n=e.y,r=e.width,s=e.height,o=e.fill,l=void 0===o?"black":o;return r<=0?null:(0,i.jsx)("rect",{x:t,y:n,width:r,height:s,fill:l})}function A(e){var t=e.weights,n=e.scheme,r=e.strength,s=void 0===r?1:r,o=e.width,l=void 0===o?500:o,a=e.height,c=void 0===a?500:a,h=e.margin,d=void 0===h?void 0:h,x=l,u=c;if(l-=(d=function(e,t){var n=void 0===t?{top:20,bottom:20,left:20,right:20}:t;return Object.assign({top:0,bottom:0,left:0,right:0},n,null!==e&&void 0!==e?e:{})}(d,{top:10,bottom:10,left:10,right:10})).left+d.right,c-=d.top+d.bottom,0===t.length)return null;var g=t.length<16?Array.from(t):t;if(16>t.length)for(var m=t[t.length-1],j=t.length;j<16;++j)g.push(m);for(var f=Math.min(t.length,16),p=Math.pow(2,Math.ceil(Math.log2(16))),v=l/p-2,b=c/p-2,y=Math.min(v/2,b/2),M=w.scaleLinear().domain([0,1]).range([0,l]),C=function(e){return{start:e.start,end:e.end}},S=Math.ceil(Math.log2(16)),z=[new k(0,1,g[0],g[0])],W=[{intervals:z.map(C),level:0,split:0,subLevel:0}],O=0,P=0;P<S;++P)for(var I=z.length,R=0;R<I;++R){var E=z[R],F=E.split(g[++O],s);if(z.push(F),W.push({intervals:z.map(C),level:P+1,subLevel:R,split:E.end}),16===z.length)break}var _=(c-0-5)/(S+1),L=function(e){var t=e.level,n=e.subLevel;return _*(t+n/Math.pow(2,Math.max(0,t-1)))},T=Math.min(4,y),X=Math.min(6,y);return(0,i.jsx)("div",{children:(0,i.jsx)("svg",{viewBox:"0 0 ".concat(x," ").concat(u),width:x,height:u,children:(0,i.jsxs)("g",{transform:"translate(".concat(d.left,",").concat(d.top,")"),children:[(0,i.jsx)(N,{interval:{start:0,end:1},x:M,scheme:n,y:0,height:c,padX:0}),(0,i.jsx)("g",{transform:"translate(0,".concat(0,")"),children:W.map((function(e,t){return(0,i.jsx)("g",{children:e.intervals.map((function(r,s){return(0,i.jsxs)("g",{children:[(0,i.jsx)(U,{x:M(r.start)+T,y:L(e),width:M(r.end-r.start)-2*T,height:4}),t<f&&(0,i.jsxs)("g",{transform:"translate(".concat(M(e.split),",").concat(L(e)+2,")"),children:[t+1<f&&(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{shapeRendering:"geometricPrecision",d:"M 0 0 Q ".concat((M(W[t+1].split)-M(e.split))/2," 0 ").concat(M(W[t+1].split)-M(e.split)," ").concat(L(W[t+1])-L(e)),fill:"none",stroke:"black",strokeWidth:2}),(0,i.jsx)("path",{shapeRendering:"geometricPrecision",d:"M 0 0 Q ".concat((M(W[t+1].split)-M(e.split))/2," 0 ").concat(M(W[t+1].split)-M(e.split)," ").concat(L(W[t+1])-L(e)),fill:"none",stroke:"white",strokeWidth:1})]}),(0,i.jsx)("circle",{r:X,fill:"black",strokeWidth:2}),(0,i.jsx)("circle",{r:X-2,fill:n(e.split),stroke:"white",strokeWidth:2})]})]},s)}))},t)}))})]})})})}var D=function(e){var t=e.label,n=e.icon,r=e.children,s=e.iconColor,c=void 0===s?"black":s;return(0,i.jsxs)(o.HC,{display:"flex",alignItems:"center",children:[(0,i.jsx)(o.DE,{w:10,h:10,as:n,color:c}),(0,i.jsxs)(l.k,{direction:"column",ml:2,children:[(0,i.jsx)(a.x,{as:"strong",children:t}),(0,i.jsx)(a.x,{as:"div",color:"gray.600",children:r})]})]})};function q(){var e,t=(0,s.useState)(6),n=t[0],r=t[1],k=(0,s.useState)(.8),S=k[0],W=k[1],O=(0,s.useState)(0),P=O[0],I=O[1],F=(0,s.useState)(.6),_=F[0],L=F[1],T=(0,s.useState)(0),G=T[0],N=T[1],U=(0,s.useState)(1),q=U[0],Q=U[1],V=(0,s.useState)(!1),B=V[0],H=V[1],Y=(0,s.useState)("interpolateSinebow"),K=Y[0],J=Y[1],Z=C(n,G),$=M(Z,{strength:q}),ee=w[K];return e=ee,ee=function(t){if(t=t+P-Math.floor(t+P),B&&(t=1-t),"interpolateGreys"===K)return e(t);var n=w.hsl(e(t));return n.s=S,n.l=_,n.toString()},(0,i.jsxs)("div",{children:[(0,i.jsx)(c.W,{as:"header",maxWidth:"100%",children:(0,i.jsxs)(c.W,{centerContent:!0,mb:12,py:6,children:[(0,i.jsxs)(h.Ug,{children:[(0,i.jsx)(d.xu,{mr:6,children:(0,i.jsx)(x.X,{fontSize:"120px",letterSpacing:"-28px",style:{textShadow:"-1px -1px 0 #eee, 1px -1px 0 #eee, -1px 1px 0 #eee, 1px 1px 0 #eee"},children:"C3"})}),(0,i.jsxs)(h.gC,{align:"flex-start",spacing:"-1",fontSize:"lg",children:[(0,i.jsxs)(x.X,{fontFamily:"inherit",children:["C",(0,i.jsx)(a.x,{as:"span",color:"gray.400",children:"onsistent"})]}),(0,i.jsxs)(x.X,{fontFamily:"inherit",children:["C",(0,i.jsx)(a.x,{as:"span",color:"gray.400",children:"ategorical"})]}),(0,i.jsxs)(x.X,{fontFamily:"inherit",children:["C",(0,i.jsx)(a.x,{as:"span",color:"gray.400",children:"olors"})]})]})]}),(0,i.jsx)(a.x,{mt:4,fontSize:"3xl",color:"gray.400",children:"Deterministic colors for maps"}),(0,i.jsxs)(a.x,{mt:1,fontSize:"3xl",color:"gray.400",children:["Inspired by the"," ",(0,i.jsx)(u.r,{href:"https://en.wikipedia.org/wiki/Cantor_set",isExternal:!0,children:"Cantor set"})," ","fractal"]})]})}),(0,i.jsxs)(c.W,{as:"main",my:12,children:[(0,i.jsxs)(h.Kq,{align:"center",justify:"center",direction:["column","row"],spacing:"24px",mt:4,children:[(0,i.jsx)(z,{intervals:$,scheme:ee,size:300}),(0,i.jsx)(A,{height:300,width:300,weights:Z,strength:q,scheme:ee})]}),(0,i.jsx)(d.xu,{align:"center",mt:"10",children:(0,i.jsx)(E,{intervals:$,scheme:ee})}),(0,i.jsxs)(d.xu,{mt:10,children:[(0,i.jsxs)(h.Ug,{children:[(0,i.jsxs)(g.Ph,{id:"colorScale",value:K,onChange:function(e){var t;return J(null===(t=e.target)||void 0===t?void 0:t.value)},children:[(0,i.jsx)("option",{value:"interpolateSinebow",children:"Sinebow"}),(0,i.jsx)("option",{value:"interpolateRainbow",children:"Rainbow"}),(0,i.jsx)("option",{value:"interpolateTurbo",children:"Turbo"}),(0,i.jsx)("option",{value:"interpolateViridis",children:"Viridis"}),(0,i.jsx)("option",{value:"interpolateGreys",children:"Greys"})]}),(0,i.jsx)(m.L,{}),(0,i.jsxs)(j.NI,{display:"flex",alignItems:"center",children:[(0,i.jsx)(f.l,{htmlFor:"reverse",mb:"0",children:"Reverse"}),(0,i.jsx)(p.r,{id:"reverse",isChecked:B,onChange:function(){return H(!B)}})]})]}),(0,i.jsx)(X,{min:2,max:128,value:n,onChange:r,suffix:"colors"}),(0,i.jsxs)(l.k,{mt:4,children:[(0,i.jsxs)(v.iR,{focusThumbOnChange:!1,value:S,onChange:W,min:0,max:1,step:.1,disabled:"interpolateGreys"===K,children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:S})]}),(0,i.jsx)(d.xu,{mx:10,children:"Saturation"})]}),(0,i.jsxs)(l.k,{mt:4,children:[(0,i.jsxs)(v.iR,{focusThumbOnChange:!1,value:_,onChange:L,min:0,max:1,step:.1,disabled:"interpolateGreys"===K,children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:_})]}),(0,i.jsx)(d.xu,{mx:10,children:"Lightness"})]}),(0,i.jsxs)(l.k,{mt:4,children:[(0,i.jsxs)(v.iR,{focusThumbOnChange:!1,value:G,onChange:N,min:0,max:1,step:.01,children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:G})]}),(0,i.jsx)(d.xu,{mx:10,children:"Skewness"})]}),(0,i.jsxs)(l.k,{mt:4,display:"none",children:[(0,i.jsxs)(v.iR,{focusThumbOnChange:!1,value:q,onChange:Q,min:0,max:1,step:.01,children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:q})]}),(0,i.jsx)(d.xu,{mx:10,children:"Weight strength"})]}),(0,i.jsxs)(l.k,{mt:4,children:[(0,i.jsxs)(v.iR,{focusThumbOnChange:!1,value:P,onChange:I,min:0,max:1,step:.01,children:[(0,i.jsx)(v.Uj,{children:(0,i.jsx)(v.Ms,{})}),(0,i.jsx)(v.gs,{fontSize:"sm",boxSize:"32px",children:P})]}),(0,i.jsx)(d.xu,{mx:14,children:"Offset"})]})]}),(0,i.jsx)(d.xu,{align:"center",mt:14,children:(0,i.jsx)(R,{intervals:$,scheme:ee})}),(0,i.jsx)(x.X,{mt:12,children:"Install"}),(0,i.jsx)(a.x,{my:4,children:"Install from NPM"}),(0,i.jsx)(b.E,{variant:"solid",px:3,py:2,children:"npm install @mapequation/c3"}),(0,i.jsxs)(a.x,{my:4,children:["Source code is available on"," ",(0,i.jsx)("a",{href:"//github.com/mapequation/c3",children:"GitHub"}),"."]}),(0,i.jsx)(x.X,{mt:12,children:"Features"}),(0,i.jsxs)(o.aV,{mt:4,spacing:"5",children:[(0,i.jsx)(D,{label:"Unlimited colors",icon:y.zV5,iconColor:"gray.400",children:"Generate as many colors you want"}),(0,i.jsxs)(D,{label:"Any color scheme",icon:y.dNS,iconColor:"yellow.400",children:["We generate color stops on the interval [0,\xa01]. Perfect to use with ",(0,i.jsx)("a",{href:"https://github.com/d3/d3-scale-chromatic",children:"d3"}),"."]}),(0,i.jsx)(D,{label:"Deterministic",icon:y.MQG,iconColor:"red.600",children:"You always get the same colors for the same requested number of colors."}),(0,i.jsx)(D,{label:"Consistent",icon:y.kEG,iconColor:"green.600",children:"If you increase the number of colors, it doesn't change the list of colors you already have."}),(0,i.jsx)(D,{label:"Fast",icon:y.Pmx,iconColor:"blue.500",children:"The complexity is O(n log(n)) for n colors."})]}),(0,i.jsx)(x.X,{mt:12,children:"Authors"}),(0,i.jsx)(a.x,{mt:4,mb:20,children:"Daniel Edler, Anton Eriksson"})]})]})}var Q=function(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.default,{children:[(0,i.jsx)("title",{children:"C3 - Consistent Categorical Colors"}),(0,i.jsx)("meta",{name:"description",content:"C3 - Consistent Categorical Colors"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(q,{})]})}}},function(e){e.O(0,[260,907,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);